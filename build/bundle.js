var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function r(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function c(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function f(){return u(" ")}function p(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function g(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}let y;function A(t){y=t}function T(){if(!y)throw new Error("Function called outside component initialization");return y}const E=[],b=[],$=[],D=[],L=Promise.resolve();let w=!1;function O(t){$.push(t)}let S=!1;const C=new Set;function K(){if(!S){S=!0;do{for(let t=0;t<E.length;t+=1){const e=E[t];A(e),R(e.$$)}for(E.length=0;b.length;)b.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];C.has(e)||(C.add(e),e())}$.length=0}while(E.length);for(;D.length;)D.pop()();w=!1,S=!1,C.clear()}}function R(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const M=new Set;let k;function N(){k={r:0,c:[],p:k}}function I(){k.r||s(k.c),k=k.p}function _(t,e){t&&t.i&&(M.delete(t),t.i(e))}function F(t,e,n,s){if(t&&t.o){if(M.has(t))return;M.add(t),k.c.push(()=>{M.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function P(t){t&&t.c()}function H(t,n,o){const{fragment:i,on_mount:c,on_destroy:a,after_update:l}=t.$$;i&&i.m(n,o),O(()=>{const n=c.map(e).filter(r);a?a.push(...n):s(n),t.$$.on_mount=[]}),l.forEach(O)}function j(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(E.push(t),w||(w=!0,L.then(K)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(e,r,o,i,c,a,d=[-1]){const h=y;A(e);const u=r.props||{},f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:d};let p=!1;if(f.ctx=o?o(e,u,(t,n,...s)=>{const r=s.length?s[0]:n;return f.ctx&&c(f.ctx[t],f.ctx[t]=r)&&(f.bound[t]&&f.bound[t](r),p&&B(e,t)),n}):[],f.update(),p=!0,s(f.before_update),f.fragment=!!i&&i(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach(l)}else f.fragment&&f.fragment.c();r.intro&&_(e.$$.fragment),H(e,r.target,r.anchor),K()}A(h)}class J{$destroy(){j(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const X=[];function U(e,n=t){let s;const r=[];function i(t){if(o(e,t)&&(e=t,s)){const t=!X.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),X.push(n,e)}if(t){for(let t=0;t<X.length;t+=2)X[t][0](X[t+1]);X.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(o,c=t){const a=[o,c];return r.push(a),1===r.length&&(s=n(i)||t),o(e),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(s(),s=null)}}}}const Q=new class{constructor(){const{subscribe:t,set:e,update:n}=U([]);this.subscribe=t,this.set=e,this.update=n}addFiles(t){this.update(e=>[...e,...t])}};function V(e){let n,r,o,i,d;return{c(){n=h("div"),r=u("Drop area"),m(n,"class",o=(e[0]?"highlight":"")+" dropzone svelte-1sa4s83")},m(t,s){a(t,n,s),c(n,r),i||(d=[p(n,"dragenter",g(e[2])),p(n,"dragleave",g(e[3])),p(n,"dragover",g(e[1])),p(n,"drop",g(e[4]))],i=!0)},p(t,[e]){1&e&&o!==(o=(t[0]?"highlight":"")+" dropzone svelte-1sa4s83")&&m(n,"class",o)},i:t,o:t,d(t){t&&l(n),i=!1,s(d)}}}async function G(t){let e=[],n=await async function(t){return new Promise((e,n)=>{t.createReader().readEntries(t=>{e(t)},t=>{n(t)})})}(t);for(let t of n)if(t.isDirectory){let n=await G(t);e=e.concat(n)}else e=e.concat([t]);return e}function z(t,e,n){let s=!1;return[s,function(t){n(0,s=!0)},function(t){n(0,s=!0)},function(t){n(0,s=!1)},async function(t){n(0,s=!1);let e=[];for(let n of t.dataTransfer.items){let t=n.webkitGetAsEntry();if(t)if(t.isDirectory){let n=await G(t);e=e.concat(n)}else e=e.concat([t]);else console.log("error: not dropped",n,t)}Q.addFiles(e)}]}class q extends J{constructor(t){super(),W(this,t,z,V,o,{})}}function Y(t){let e;return{c(){e=h("div"),m(e,"class","flex-child svelte-157cix3"),v(e,"width",t[1]+"px")},m(t,n){a(t,e,n)},p(t,n){2&n&&v(e,"width",t[1]+"px")},d(t){t&&l(e)}}}function Z(t){let e,n,s,r=t[0].stack[0]+"";return{c(){e=h("div"),n=u(r),m(e,"class",s="flex-child "+t[0].state+" file-thread svelte-157cix3"),v(e,"width",t[2])},m(t,s){a(t,e,s),c(e,n)},p(t,o){1&o&&r!==(r=t[0].stack[0]+"")&&x(n,r),1&o&&s!==(s="flex-child "+t[0].state+" file-thread svelte-157cix3")&&m(e,"class",s)},d(t){t&&l(e)}}}function tt(e){let n;function s(t,e){return t[0]?Z:Y}let r=s(e),o=r(e);return{c(){o.c(),n=u("")},m(t,e){o.m(t,e),a(t,n,e)},p(t,[e]){r===(r=s(t))&&o?o.p(t,e):(o.d(1),o=r(t),o&&(o.c(),o.m(n.parentNode,n)))},i:t,o:t,d(t){o.d(t),t&&l(n)}}}function et(t,e,n){let{thread:s}=e,{maxWidth:r=100}=e,o=r+"px";return t.$set=t=>{"thread"in t&&n(0,s=t.thread),"maxWidth"in t&&n(1,r=t.maxWidth)},[s,r,o]}class nt extends J{constructor(t){super(),W(this,t,et,tt,o,{thread:0,maxWidth:1})}}const st=new class{constructor(){const{subscribe:t,set:e,update:n}=U({});this.subscribe=t,this.set=e,this.update=n}addThread(t,e){this.update(n=>{let s={},r={},o={};return o[e.name]=e,r[t.name]=Object.assign({},n[t.name],o),s=(n[t.name],Object.assign({},n,r)),s})}};function rt(t,e,n){const s=t.slice();return s[17]=e[n],s[16]=n,s}function ot(t,e,n){const s=t.slice();return s[14]=e[n],s[16]=n,s}function it(t,e,n){const s=t.slice();return s[17]=e[n],s[16]=n,s}function ct(t){let e,n,s=t[17]+"";return{c(){e=h("div"),n=u(s),m(e,"class","flex-child svelte-1exyrrx"),v(e,"width",t[1]+"px")},m(t,s){a(t,e,s),c(e,n)},p(t,r){4&r&&s!==(s=t[17]+"")&&x(n,s),2&r&&v(e,"width",t[1]+"px")},d(t){t&&l(e)}}}function at(t){let e,n;return e=new nt({props:{thread:t[5](t[17],t[14]),maxWidth:t[1]}}),{c(){P(e.$$.fragment)},m(t,s){H(e,t,s),n=!0},p(t,n){const s={};20&n&&(s.thread=t[5](t[17],t[14])),2&n&&(s.maxWidth=t[1]),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function lt(t){let e,n,s,r,o,i,p=t[14]+"",g=t[2],y=[];for(let e=0;e<g.length;e+=1)y[e]=at(rt(t,g,e));const A=t=>F(y[t],1,1,()=>{y[t]=null});return{c(){e=h("div"),n=h("div"),s=u(p),r=f();for(let t=0;t<y.length;t+=1)y[t].c();o=f(),m(n,"class","flex-child svelte-1exyrrx"),v(n,"width",t[1]+"px"),m(e,"class","flex-container thread-row svelte-1exyrrx")},m(t,l){a(t,e,l),c(e,n),c(n,s),c(e,r);for(let t=0;t<y.length;t+=1)y[t].m(e,null);c(e,o),i=!0},p(t,r){if((!i||16&r)&&p!==(p=t[14]+"")&&x(s,p),(!i||2&r)&&v(n,"width",t[1]+"px"),54&r){let n;for(g=t[2],n=0;n<g.length;n+=1){const s=rt(t,g,n);y[n]?(y[n].p(s,r),_(y[n],1)):(y[n]=at(s),y[n].c(),_(y[n],1),y[n].m(e,o))}for(N(),n=g.length;n<y.length;n+=1)A(n);I()}},i(t){if(!i){for(let t=0;t<g.length;t+=1)_(y[t]);i=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);i=!1},d(t){t&&l(e),d(y,t)}}}function dt(t){let e,n,s,r,o,i,u,p,g,x,y,A,T,E,b,$,D,L,w,O,S,C,K,R,M,k;L=new q({});let B=t[2],W=[];for(let e=0;e<B.length;e+=1)W[e]=ct(it(t,B,e));let J=t[4],X=[];for(let e=0;e<J.length;e+=1)X[e]=lt(ot(t,J,e));const U=t=>F(X[t],1,1,()=>{X[t]=null});return{c(){e=h("main"),n=h("div"),s=h("div"),r=h("div"),o=h("div"),o.textContent="Running",i=f(),u=h("div"),u.textContent="Waiting",p=f(),g=h("div"),g.textContent="Blocked",x=f(),y=h("div"),y.textContent="Suspended",A=f(),T=h("div"),T.textContent="Parked",E=f(),b=h("div"),b.textContent="Zombie",D=f(),P(L.$$.fragment),w=f(),O=h("div"),S=h("div"),C=h("div"),K=f();for(let t=0;t<W.length;t+=1)W[t].c();R=f();for(let t=0;t<X.length;t+=1)X[t].c();m(o,"class","R svelte-1exyrrx"),m(u,"class","CW svelte-1exyrrx"),m(g,"class","B svelte-1exyrrx"),m(y,"class","S svelte-1exyrrx"),m(T,"class","P svelte-1exyrrx"),m(b,"class","Z svelte-1exyrrx"),m(r,"class",$="state "+(t[3]?"":"flex-container")+" svelte-1exyrrx"),m(s,"class","sidebar svelte-1exyrrx"),m(C,"class","flex-child svelte-1exyrrx"),v(C,"width",t[1]+"px"),m(S,"class","fileNames flex-container svelte-1exyrrx"),m(O,"class","main svelte-1exyrrx"),m(n,"class",M="flex-container "+(t[3]?"filesloaded":"")+" svelte-1exyrrx")},m(l,d){a(l,e,d),c(e,n),c(n,s),c(s,r),c(r,o),c(r,i),c(r,u),c(r,p),c(r,g),c(r,x),c(r,y),c(r,A),c(r,T),c(r,E),c(r,b),c(s,D),H(L,s,null),c(n,w),c(n,O),c(O,S),c(S,C),c(S,K);for(let t=0;t<W.length;t+=1)W[t].m(S,null);c(O,R);for(let t=0;t<X.length;t+=1)X[t].m(O,null);t[7](O),k=!0},p(t,[e]){if((!k||8&e&&$!==($="state "+(t[3]?"":"flex-container")+" svelte-1exyrrx"))&&m(r,"class",$),(!k||2&e)&&v(C,"width",t[1]+"px"),6&e){let n;for(B=t[2],n=0;n<B.length;n+=1){const s=it(t,B,n);W[n]?W[n].p(s,e):(W[n]=ct(s),W[n].c(),W[n].m(S,null))}for(;n<W.length;n+=1)W[n].d(1);W.length=B.length}if(54&e){let n;for(J=t[4],n=0;n<J.length;n+=1){const s=ot(t,J,n);X[n]?(X[n].p(s,e),_(X[n],1)):(X[n]=lt(s),X[n].c(),_(X[n],1),X[n].m(O,null))}for(N(),n=J.length;n<X.length;n+=1)U(n);I()}(!k||8&e&&M!==(M="flex-container "+(t[3]?"filesloaded":"")+" svelte-1exyrrx"))&&m(n,"class",M)},i(t){if(!k){_(L.$$.fragment,t);for(let t=0;t<J.length;t+=1)_(X[t]);k=!0}},o(t){F(L.$$.fragment,t),X=X.filter(Boolean);for(let t=0;t<X.length;t+=1)F(X[t]);k=!1},d(n){n&&l(e),j(L),d(W,n),d(X,n),t[7](null)}}}function ht(t,e,n){let s,r;i(t,Q,t=>n(8,s=t)),i(t,st,t=>n(9,r=t));let{services:o}=e;var c,a;c="services",a=o,T().$$.context.set(c,a);let l,d,h=(t,e)=>{let n=Math.min(t.length,e.length),s=t.padEnd(0,n-1),r=e.slice(0,n-1),o=s.localeCompare(r);return 0==o?t.length!=e.length?t.length-e.length:t.localeCompare(e):o},u=()=>{n(1,d=Math.floor(l.getBoundingClientRect().width/(p.length+1)))};var f;let p,g,m,x;return f=()=>{u()},T().$$.on_mount.push(f),function(t){T().$$.after_update.push(t)}(()=>{u()}),window.onresize=u,t.$set=t=>{"services"in t&&n(6,o=t.services)},t.$$.update=()=>{256&t.$$.dirty&&n(2,p=s.map(t=>t.name).sort()),4&t.$$.dirty&&n(3,g=p&&p.length>0),512&t.$$.dirty&&n(4,m=Object.keys(Object.entries(r).reduce((t,[e,n])=>Object.assign({},t,n),{})).sort(h)),512&t.$$.dirty&&n(10,x=r)},[l,d,p,g,m,(t,e)=>x[t]&&x[t][e]?x[t][e]:void 0,o,function(t){b[t?"unshift":"push"](()=>{l=t,n(0,l)})}]}class ut{constructor(t){this.name=t,this.subscribers=[]}process(){try{this.notify(...arguments)}catch(t){throw console.error(t),t}}notify(){this.subscribers.forEach(t=>t.process(...arguments))}subscribe(){this.subscribers=[...this.subscribers,...arguments]}}class ft extends ut{constructor(){super("LineProcessor"),this.textDecoder=new TextDecoder("utf-8"),this.dataArr=[]}process(t,e){this.dataArr=this.dataArr.concat(Array.from(e));let n=this.newLineIndex();for(;-1!=n;){let e=this.dataArr.splice(0,n+1);var s=this.textDecoder.decode(Uint8Array.from(e));this.notify(t,s),n=this.newLineIndex()}}newLineIndex(){return this.dataArr.findIndex(t=>10===t||13===t)}}const pt=["START_DEADLOCK","2LKDEADLOCKTHR","3LKDEADLOCKWTR","4LKDEADLOCKMON","4LKDEADLOCKOBJ","3LKDEADLOCKOWN","1LKDEADLOCK","1LKDEADLOCK"];class gt extends ut{constructor(){super("LockBuilder"),this.thread={},this.deadlockStarted=!1}process(t,{type:e,content:n}){"1LKDEADLOCK"===e&&(this.deadlockStarted=!0,console.log(this.name+" - DeadLock Start")),"1LKDEADLOCK"===e&&this.deadlockStarted&&(this.deadlockStarted=!1,console.log(this.name+" - DeadLock End"))}}const mt=["1LKDEADLOCK","0SECTION"],xt=["2LKMONINUSE","3LKMONOBJECT","3LKNOTIFYQ","3LKWAITNOTIFY","3LKWAITERQ","3LKWAITER","1LKREGMONDUMP","2LKREGMON","1LKMONPOOLDUMP","1LKREGMONDUMP",...mt];class vt extends ut{constructor(){super("LockMonitorBuilder"),this.thread={},this.lkMonitorsStarted=!1,this.regMonitorsStarted=!1}process(t,{type:e,content:n}){try{"1LKMONPOOLDUMP"===e&&(this.lkMonitorsStarted=!0,this.regMonitorsStarted=!1,console.log(this.name+" - Lock Monitors Start")),"1LKREGMONDUMP"===e&&(this.lkMonitorsStarted=!1,this.regMonitorsStarted=!0,console.log(this.name+" - Lock Monitors End"),console.log(this.name+" - Reg Monitors Start")),-1!==mt.indexOf(e)&&this.regMonitorsStarted&&(this.lkMonitorsStarted=!1,this.regMonitorsStarted=!1,console.log(this.name+" - Reg Monitors End"))}catch(t){console.error(t),this.close()}}close(){let t=super.close();return console.timeEnd("global"),t}}class yt{constructor({name:t,j9vmthread:e,j9thread:n,id:s,state:r,prio:o}){this.name=t,this.state=r,this.prio=o,this.j9vmthread=e,this.j9thread=n,this.id=s,this.stack=[],this.nativeStack=[]}addToStack(t){this.stack.push(t)}addToNativeStack(t){this.nativeStack.push(t)}addJavalThread(t){this.javalThreadIfo=t}addThreadInfo1(t){this.nativeInfo=t}}const At=/\"(?<name>.*?)\"[\s,]*(?<j9vmthread>.*?),[\s,]*(?<j9thread>.*?),[\s,]*(?<id>.*?),[\s,]*state:(?<state>.*),[\s,]*prio=(?<prio>[\d]*)/,Tt=/.*?ID:(?<threadId>.*?),.*?priority:(?<priority>.*?),.*?policy:(?<policy>.*?),.*?vmstate:(?<vmstate>.*?),.*?flags:(?<flags>.*?)\)/,Et=/\(.*getId:(?<getId>.*?),.*?isDaemon:(?<isDaemon>.*?)\)/,bt={THREADINFO:"3XMTHREADINFO",JAVALTHREAD:"3XMJAVALTHREAD",THREADINFO1:"3XMTHREADINFO1",STACKTRACE4:"4XESTACKTRACE",STACKTRACE5:"5XESTACKTRACE",NATIVESTACK:"4XENATIVESTACK",THREADBLOCK:"3XMTHREADBLOCK",START_THREADS:"1XMTHDINFO",END_THREADS:"0SECTION"},$t=Object.values(bt);class Dt extends ut{constructor(){super("ThreadBuilder"),this.thread=void 0,this.started=!1}process(t,{type:e,content:n}){this.started&&this.buildThread(t,e,n),bt.START_THREADS===e&&(this.started=!0,console.log(this.name+" - Build Threads Start")),bt.END_THREADS===e&&this.started&&(this.started=!1,console.log(this.name+" - Build Threads End"))}buildThread(t,e,n){let s=void 0;switch(e){case bt.THREADINFO:if(s=At.exec(n),s){let{groups:e}=s;e&&e.name&&(this.thread=new yt(e),st.addThread(t,this.thread))}else this.thread=new yt({name:n}),st.addThread(t,this.thread);break;case bt.THREADINFO1:if(s=Tt.exec(n),s){let{groups:t}=s;this.thread.addThreadInfo1(t)}break;case bt.JAVALTHREAD:if(s=Et.exec(n),s){let{groups:t}=s;this.thread.addJavalThread(t)}break;case bt.STACKTRACE4:case bt.STACKTRACE5:this.thread.addToStack(n);break;case bt.NATIVESTACK:this.thread.addToNativeStack(n)}}}const Lt=/^(?<type>.*?)\s[\s]*(?<content>.*)/,wt=[...$t,...xt,...pt];class Ot extends ut{constructor(){super("LineFilter")}process(t,e){try{let{groups:{type:n,content:s}}=Lt.exec(e);-1!==wt.indexOf(n)&&this.notify(t,{type:n,content:s})}catch(t){console.error(t)}}}class St{list=[];listeners=[];addDeferred(t){this.list.push(t),this.notify()}addListener(t){this.listeners.push(t),this.notify()}notify(){if(this.listeners.length>0&&this.list.length>0){let t=this.list.shift();this.listeners.shift().execute(t),this.notify()}}}class Ct{constructor(t){this.file=t,this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Kt{constructor(t){this.queue=t,this.reader=new FileReader}async execute(t){this.reader.onload=e=>{t.resolve(e.target.result),this.queue.addListener(this)},this.reader.readAsArrayBuffer(t.file)}}class Rt{constructor(t){this.fileQueue=new St;for(let e=0;e<t;e++)this.fileQueue.addListener(new Kt(this.fileQueue))}async read(t){let e=new Ct(t);return this.fileQueue.addDeferred(e),e.promise}}Rt.getInstance=()=>(Rt.instance||(Rt.instance=new Rt(6)),Rt.instance);return new class extends J{constructor(t){super(),W(this,t,ht,dt,o,{services:6})}}({target:document.body,props:{services:{JCoreProcessor:new class{constructor(){Q.subscribe(t=>{this.process(t)})}async process(t){if(t&&t.length>0){this.processing&&console.log("cancel previous"),this.processing=!0;let e=t.map(async t=>await new Promise((e,n)=>t.file(e,n)));console.time("global"),Promise.all(e).then(t=>Promise.all(t.map(t=>this.processFile(t)))).then(()=>console.timeEnd("global"))}}async processFile(t){let e=new ft,n=new Ot,s=new Dt,r=new gt,o=new vt;e.subscribe(n),n.subscribe(s,r,o);let i=t.stream();await i.pipeTo(new WritableStream({write:n=>{try{e.process(t,n)}catch(t){console.error(t)}},close:()=>{console.log("File stream closed")},Abort:()=>{}}))}},FileReadService:Rt.getInstance(6)}}})}();
//# sourceMappingURL=bundle.js.map
