var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function l(e,t,n,r,s,o,i){const l=function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(t,r,s,o);if(l){const s=c(t,n,r,i);e.p(s,l)}}function a(e){return null==e?"":e}function d(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function h(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function g(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function p(e){return document.createTextNode(e)}function v(){return p(" ")}function b(){return p("")}function k(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function $(e){return function(t){return t.preventDefault(),e.call(this,t)}}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.data!==t&&(e.data=t)}function T(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}let O;function x(e){O=e}function A(){if(!O)throw new Error("Function called outside component initialization");return O}function E(){const e=A();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const s=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);r.slice().forEach(t=>{t.call(e,s)})}}}const S=[],N=[],D=[],L=[],C=Promise.resolve();let I=!1;function j(e){D.push(e)}let B=!1;const K=new Set;function R(){if(!B){B=!0;do{for(let e=0;e<S.length;e+=1){const t=S[e];x(t),M(t.$$)}for(S.length=0;N.length;)N.pop()();for(let e=0;e<D.length;e+=1){const t=D[e];K.has(t)||(K.add(t),t())}D.length=0}while(S.length);for(;L.length;)L.pop()();I=!1,B=!1,K.clear()}}function M(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const F=new Set;let _;function P(){_={r:0,c:[],p:_}}function H(){_.r||r(_.c),_=_.p}function q(e,t){e&&e.i&&(F.delete(e),e.i(t))}function W(e,t,n,r){if(e&&e.o){if(F.has(e))return;F.add(e),_.c.push(()=>{F.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function J(e){e&&e.c()}function X(e,n,o){const{fragment:i,on_mount:c,on_destroy:l,after_update:a}=e.$$;i&&i.m(n,o),j(()=>{const n=c.map(t).filter(s);l?l.push(...n):r(n),e.$$.on_mount=[]}),a.forEach(j)}function V(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function z(e,t){-1===e.$$.dirty[0]&&(S.push(e),I||(I=!0,C.then(R)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function U(t,s,o,i,c,l,a=[-1]){const d=O;x(t);const u=s.props||{},f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:a};let m=!1;if(f.ctx=o?o(t,u,(e,n,...r)=>{const s=r.length?r[0]:n;return f.ctx&&c(f.ctx[e],f.ctx[e]=s)&&(f.bound[e]&&f.bound[e](s),m&&z(t,e)),n}):[],f.update(),m=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);f.fragment&&f.fragment.l(e),e.forEach(h)}else f.fragment&&f.fragment.c();s.intro&&q(t.$$.fragment),X(t,s.target,s.anchor),R()}x(d)}class Q{$destroy(){V(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const G=[];function Y(t,n=e){let r;const s=[];function i(e){if(o(t,e)&&(t=e,r)){const e=!G.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),G.push(n,t)}if(e){for(let e=0;e<G.length;e+=2)G[e][0](G[e+1]);G.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,c=e){const l=[o,c];return s.push(l),1===s.length&&(r=n(i)||e),o(t),()=>{const e=s.indexOf(l);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}const Z=new class{constructor(){const{subscribe:e,set:t,update:n}=Y({});this.subscribe=e,this.set=t,this.update=n}setProcessed(e){this.update(t=>{let n=e.reduce((e,n)=>{let r=t[n.name],s=Object.assign(r,{processed:!0});return e[n.name]=s,e},{});return Object.assign({},t,n)})}addFiles(e){this.update(t=>{let n=e.reduce((e,t)=>(e[t.name]||(e[t.name]=t),e),{});return Object.assign({},n,t)})}remove(e){this.update(t=>Object.entries(t).filter(([t,n])=>t!=e).reduce((e,[t,n])=>(e[t]=n,e),{}))}};function ee(t){let n,s,o,i,c;return{c(){n=m("div"),s=m("span"),s.textContent="Drop javacore files",w(s,"class","svelte-1v2e4wg"),w(n,"class",o=(t[0]?"highlight":"")+" dropzone svelte-1v2e4wg")},m(e,r){u(e,n,r),d(n,s),i||(c=[k(n,"dragenter",$(t[2])),k(n,"dragleave",$(t[3])),k(n,"dragover",$(t[1])),k(n,"drop",$(t[4]))],i=!0)},p(e,[t]){1&t&&o!==(o=(e[0]?"highlight":"")+" dropzone svelte-1v2e4wg")&&w(n,"class",o)},i:e,o:e,d(e){e&&h(n),i=!1,r(c)}}}async function te(e){let t=[],n=await async function(e){return new Promise((t,n)=>{e.createReader().readEntries(e=>{t(e)},e=>{n(e)})})}(e);for(let e of n)if(e.isDirectory){let n=await te(e);t=t.concat(n)}else t=t.concat([e]);return t}function ne(e,t,n){let r=!1;return[r,function(e){n(0,r=!0)},function(e){n(0,r=!0)},function(e){n(0,r=!1)},async function(e){n(0,r=!1);let t=[];for(let n of e.dataTransfer.items){let e=n.webkitGetAsEntry();if(e)if(e.isDirectory){let n=await te(e);t=t.concat(n)}else t=t.concat([e]);else console.log("error: not dropped",n,e)}Z.addFiles(t)}]}class re extends Q{constructor(e){super(),U(this,e,ne,ee,o,{})}}function se(t){let n,r,s,o,i,c,l,a,f,g,p,b,k;return{c(){n=m("div"),r=m("div"),r.textContent="Running",s=v(),o=m("div"),o.textContent="Waiting",i=v(),c=m("div"),c.textContent="Blocked",l=v(),a=m("div"),a.textContent="Suspended",f=v(),g=m("div"),g.textContent="Parked",p=v(),b=m("div"),b.textContent="Zombie",w(r,"class","R svelte-17qv8gc"),w(o,"class","CW svelte-17qv8gc"),w(c,"class","B svelte-17qv8gc"),w(a,"class","S svelte-17qv8gc"),w(g,"class","P svelte-17qv8gc"),w(b,"class","Z svelte-17qv8gc"),w(n,"class",k="state "+(t[0]?"loaded":"")+" svelte-17qv8gc")},m(e,t){u(e,n,t),d(n,r),d(n,s),d(n,o),d(n,i),d(n,c),d(n,l),d(n,a),d(n,f),d(n,g),d(n,p),d(n,b)},p(e,[t]){1&t&&k!==(k="state "+(e[0]?"loaded":"")+" svelte-17qv8gc")&&w(n,"class",k)},i:e,o:e,d(e){e&&h(n)}}}function oe(e,t,n){let{loaded:r=!1}=t;return e.$set=e=>{"loaded"in e&&n(0,r=e.loaded)},[r]}class ie extends Q{constructor(e){super(),U(this,e,oe,se,o,{loaded:0})}}function ce(e){let t,n,r,s,o;return n=new ie({props:{loaded:e[0]&&Object.keys(e[0]).length>0}}),s=new re({}),{c(){t=m("div"),J(n.$$.fragment),r=v(),J(s.$$.fragment),w(t,"class","sidebar")},m(e,i){u(e,t,i),X(n,t,null),d(t,r),X(s,t,null),o=!0},p(e,[t]){const r={};1&t&&(r.loaded=e[0]&&Object.keys(e[0]).length>0),n.$set(r)},i(e){o||(q(n.$$.fragment,e),q(s.$$.fragment,e),o=!0)},o(e){W(n.$$.fragment,e),W(s.$$.fragment,e),o=!1},d(e){e&&h(t),V(n),V(s)}}}function le(e,t,n){let{fileStore:r}=t;return e.$set=e=>{"fileStore"in e&&n(0,r=e.fileStore)},[r]}class ae extends Q{constructor(e){super(),U(this,e,le,ce,o,{fileStore:0})}}const de=new class{constructor(){const{subscribe:e,set:t,update:n}=Y({});this.subscribe=e,this.set=t,this.update=n}updateThread(e,{name:t,info:n,javalThreadInfo:r,nativeInfo:s,stack:o,nativeStack:i,monitor:c,waitingOn:l,blockedBy:a,blocking:d}){this.update(u=>{let h={...u,[e.name]:{...u[e.name]?u[e.name]:{},[t]:{...u[e.name]&&u[e.name][t]?u[e.name][t]:{},name:t}}},f=h[e.name][t];return n&&(f.info={...f.info,...n}),r&&(f.javalThreadInfo={...f.javalThreadInfo,...r}),s&&(f.nativeInfo={...f.nativeInfo,...s}),o&&(f.stack=[...f.stack?f.stack:[],...o]),i&&(f.nativeStack=[...f.nativeStack?f.nativeStack:[],...i]),l&&(f.waitingOn=[...f.waitingOn?f.waitingOn:[],...l]),a&&(f.blockedBy=[...f.blockedBy?f.blockedBy:[],...a]),d&&(f.blocking=[...f.blocking?f.blocking:[],...d]),c&&(f.monitor=c),h})}mergeThread(){}mergeThreadInfo(){}mergeThreadStack(){}mergeThreadNativeStack(){}mergeThreadBlocking(){}mergeThreadNativeStack(){}remove(e){this.update(t=>Object.entries(t).filter(([t,n])=>t!=e).reduce((e,[t,n])=>(e[t]=n,e),{}))}},ue=e=>({}),he=e=>({});function fe(e){let t,n,r,o,i,a,f,p,b,$;const y=e[4].content,O=function(e,t,n,r){if(e){const s=c(e,t,n,r);return e[0](s)}}(y,e,e[3],he);return{c(){t=m("div"),n=m("div"),O&&O.c(),r=v(),o=g("svg"),i=g("g"),a=g("circle"),f=g("path"),w(n,"class","contentcontainer svelte-e51wig"),w(a,"stroke-miterlimit","10"),w(a,"stroke-width","8"),w(a,"stroke",ge),w(a,"fill","white"),w(a,"r","40"),w(a,"cy","50"),w(a,"cx","50"),w(f,"d","M60.6 29.5L50 40.1 39.4 29.5c-2.7-2.7-7.1-2.7-9.9 0-2.7 2.7-2.7 7.1 0\n        9.9L40.1 50 29.5 60.6c-2.7 2.7-2.7 7.1 0 9.9s7.1 2.7 9.9 0L50 59.9l10.6\n        10.6c2.7 2.7 7.1 2.7 9.9 0 2.7-2.7 2.7-7.1 0-9.9L59.9\n        50l10.6-10.6c2.7-2.7 2.7-7.1 0-9.9s-7.2-2.7-9.9 0z"),T(f,"fill",pe),T(i,"transform-origin","50% 50%"),T(i,"transform","rotate(0deg) scale(0.8, 0.8)"),w(o,"id",""),w(o,"viewBox","0 0 100 100"),w(o,"y","0"),w(o,"x","0"),w(o,"xmlns","http://www.w3.org/2000/svg"),w(o,"xml:space","preserve"),w(o,"version","1.1"),w(o,"width",me),w(o,"height",me),T(o,"top","0"),T(o,"right","-"+me/2+"px"),w(o,"xmlns:xlink","http://www.w3.org/1999/xlink"),w(o,"class","svelte-e51wig"),w(t,"class","closable svelte-e51wig")},m(c,l){u(c,t,l),d(t,n),O&&O.m(n,null),d(t,r),d(t,o),d(o,i),d(i,a),d(i,f),p=!0,b||($=k(o,"click",(function(){s(e[2](e[1],e[0]))&&e[2](e[1],e[0]).apply(this,arguments)})),b=!0)},p(t,[n]){e=t,O&&O.p&&8&n&&l(O,y,e,e[3],n,ue,he)},i(e){p||(q(O,e),p=!0)},o(e){W(O,e),p=!1},d(e){e&&h(t),O&&O.d(e),b=!1,$()}}}let me=20,ge="#000000",pe="#FF0000";function ve(e,t,n){const r=E();let{identifier:s}=t,{eventName:o}=t,{$$slots:i={},$$scope:c}=t;return e.$set=e=>{"identifier"in e&&n(0,s=e.identifier),"eventName"in e&&n(1,o=e.eventName),"$$scope"in e&&n(3,c=e.$$scope)},[s,o,r,c,i]}class be extends Q{constructor(e){super(),U(this,e,ve,fe,o,{identifier:0,eventName:1})}}function ke(t){let n;return{c(){n=m("div"),w(n,"class","flex-child")},m(e,t){u(e,n,t)},p:e,d(e){e&&h(n)}}}function $e(e){let t,n,r,s=(e[0].stack&&e[0].stack[0]||e[0].nativeStack&&e[0].nativeStack[0])+"";return{c(){t=m("div"),n=p(s),w(t,"class",r="flex-child "+(e[0].info&&e[0].info.state)+" file-thread"),T(t,"overflow","hidden")},m(e,r){u(e,t,r),d(t,n)},p(e,o){1&o&&s!==(s=(e[0].stack&&e[0].stack[0]||e[0].nativeStack&&e[0].nativeStack[0])+"")&&y(n,s),1&o&&r!==(r="flex-child "+(e[0].info&&e[0].info.state)+" file-thread")&&w(t,"class",r)},d(e){e&&h(t)}}}function we(t){let n;function r(e,t){return e[0]?$e:ke}let s=r(t),o=s(t);return{c(){o.c(),n=b()},m(e,t){o.m(e,t),u(e,n,t)},p(e,[t]){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n.parentNode,n)))},i:e,o:e,d(e){o.d(e),e&&h(n)}}}function ye(e,t,n){let{thread:r}=t;return e.$set=e=>{"thread"in e&&n(0,r=e.thread)},[r]}class Te extends Q{constructor(e){super(),U(this,e,ye,we,o,{thread:0})}}function Oe(t){let n;return{c(){n=m("div"),w(n,"class","wrapper")},m(e,t){u(e,n,t)},p:e,d(e){e&&h(n)}}}function xe(e){let t,n,r,s,o,i,c=e[0].blocking&&e[0].blocking.length>0&&Ae(e),l=e[0].blockedBy&&e[0].blockedBy.length>0&&Ee(e),a=e[0].waitingOn&&e[0].waitingOn.length>0&&Se(e),f=e[0].monitor&&Ne(e),g=e[0].stack&&e[0].stack.length>0&&Ce(e),p=e[0].nativeStack&&e[0].nativeStack.length>0&&Ie(e);return{c(){t=m("div"),c&&c.c(),n=v(),l&&l.c(),r=v(),a&&a.c(),s=v(),f&&f.c(),o=v(),g&&g.c(),i=v(),p&&p.c(),w(t,"class","wrapper")},m(e,h){u(e,t,h),c&&c.m(t,null),d(t,n),l&&l.m(t,null),d(t,r),a&&a.m(t,null),d(t,s),f&&f.m(t,null),d(t,o),g&&g.m(t,null),d(t,i),p&&p.m(t,null)},p(e,d){e[0].blocking&&e[0].blocking.length>0?c?c.p(e,d):(c=Ae(e),c.c(),c.m(t,n)):c&&(c.d(1),c=null),e[0].blockedBy&&e[0].blockedBy.length>0?l?l.p(e,d):(l=Ee(e),l.c(),l.m(t,r)):l&&(l.d(1),l=null),e[0].waitingOn&&e[0].waitingOn.length>0?a?a.p(e,d):(a=Se(e),a.c(),a.m(t,s)):a&&(a.d(1),a=null),e[0].monitor?f?f.p(e,d):(f=Ne(e),f.c(),f.m(t,o)):f&&(f.d(1),f=null),e[0].stack&&e[0].stack.length>0?g?g.p(e,d):(g=Ce(e),g.c(),g.m(t,i)):g&&(g.d(1),g=null),e[0].nativeStack&&e[0].nativeStack.length>0?p?p.p(e,d):(p=Ie(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null)},d(e){e&&h(t),c&&c.d(),l&&l.d(),a&&a.d(),f&&f.d(),g&&g.d(),p&&p.d()}}}function Ae(e){let t,n,r,s,o=e[0].blocking.join("\n")+"";return{c(){t=m("div"),t.textContent="Blocking",n=v(),r=m("div"),s=p(o),w(t,"class","head svelte-ks0bca"),w(r,"class","blocking svelte-ks0bca")},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),d(r,s)},p(e,t){1&t&&o!==(o=e[0].blocking.join("\n")+"")&&y(s,o)},d(e){e&&h(t),e&&h(n),e&&h(r)}}}function Ee(e){let t,n,r,s,o=e[0].blockedBy.join("\n")+"";return{c(){t=m("div"),t.textContent="Blocked by",n=v(),r=m("div"),s=p(o),w(t,"class","head svelte-ks0bca"),w(r,"class","blocked svelte-ks0bca")},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),d(r,s)},p(e,t){1&t&&o!==(o=e[0].blockedBy.join("\n")+"")&&y(s,o)},d(e){e&&h(t),e&&h(n),e&&h(r)}}}function Se(e){let t,n,r,s,o=e[0].waitingOn.join("\n")+"";return{c(){t=m("div"),t.textContent="Blocked by",n=v(),r=m("div"),s=p(o),w(t,"class","head svelte-ks0bca"),w(r,"class","waitingOn svelte-ks0bca")},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),d(r,s)},p(e,t){1&t&&o!==(o=e[0].waitingOn.join("\n")+"")&&y(s,o)},d(e){e&&h(t),e&&h(n),e&&h(r)}}}function Ne(e){let t,n,r,s,o,i,c=e[0].monitor+"",l=(e[0].waitingOn&&e[0].waitingOn.length>0||e[0].blockedBy&&e[0].blockedBy.length>0)&&De(),a=e[0].blocking&&e[0].blocking.length>0&&Le();return{c(){t=m("div"),t.textContent="Monitoring",n=v(),r=m("div"),l&&l.c(),s=v(),a&&a.c(),o=v(),i=p(c),w(t,"class","head svelte-ks0bca"),w(r,"class","blocked svelte-ks0bca")},m(e,c){u(e,t,c),u(e,n,c),u(e,r,c),l&&l.m(r,null),d(r,s),a&&a.m(r,null),d(r,o),d(r,i)},p(e,t){e[0].waitingOn&&e[0].waitingOn.length>0||e[0].blockedBy&&e[0].blockedBy.length>0?l||(l=De(),l.c(),l.m(r,s)):l&&(l.d(1),l=null),e[0].blocking&&e[0].blocking.length>0?a||(a=Le(),a.c(),a.m(r,o)):a&&(a.d(1),a=null),1&t&&c!==(c=e[0].monitor+"")&&y(i,c)},d(e){e&&h(t),e&&h(n),e&&h(r),l&&l.d(),a&&a.d()}}}function De(e){let t,n;return{c(){t=p("waiting for lock on:"),n=p("\n")},m(e,r){u(e,t,r),u(e,n,r)},d(e){e&&h(t),e&&h(n)}}}function Le(e){let t,n;return{c(){t=p("holding lock on:"),n=p("\n")},m(e,r){u(e,t,r),u(e,n,r)},d(e){e&&h(t),e&&h(n)}}}function Ce(e){let t,n,r,s,o=e[0].stack.join("\n")+"";return{c(){t=m("div"),t.textContent="Java Stack",n=v(),r=m("div"),s=p(o),w(t,"class","head svelte-ks0bca"),w(r,"class","stack svelte-ks0bca")},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),d(r,s)},p(e,t){1&t&&o!==(o=e[0].stack.join("\n")+"")&&y(s,o)},d(e){e&&h(t),e&&h(n),e&&h(r)}}}function Ie(e){let t,n,r,s,o=e[0].nativeStack.join("\n")+"";return{c(){t=m("div"),t.textContent="Native Stack",n=v(),r=m("div"),s=p(o),w(t,"class","head svelte-ks0bca"),w(r,"class","stack svelte-ks0bca")},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),d(r,s)},p(e,t){1&t&&o!==(o=e[0].nativeStack.join("\n")+"")&&y(s,o)},d(e){e&&h(t),e&&h(n),e&&h(r)}}}function je(t){let n;function r(e,t){return e[0]?xe:Oe}let s=r(t),o=s(t);return{c(){o.c(),n=b()},m(e,t){o.m(e,t),u(e,n,t)},p(e,[t]){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n.parentNode,n)))},i:e,o:e,d(e){o.d(e),e&&h(n)}}}function Be(e,t,n){let{thread:r}=t;return e.$set=e=>{"thread"in e&&n(0,r=e.thread)},[r]}class Ke extends Q{constructor(e){super(),U(this,e,Be,je,o,{thread:0})}}function Re(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Me(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Fe(e){let t,n;return t=new Te({props:{thread:e[5]}}),{c(){J(t.$$.fragment)},m(e,r){X(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.thread=e[5]),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function _e(e){let t,n,r,s,o,i,c=e[0],l=[];for(let t=0;t<c.length;t+=1)l[t]=Pe(Re(e,c,t));const a=e=>W(l[e],1,1,()=>{l[e]=null});return{c(){t=m("div"),n=m("div"),r=v();for(let e=0;e<l.length;e+=1)l[e].c();T(n,"overflow","hidden"),w(n,"class","svelte-morb7v"),w(t,"class","row-wrapper threadDetails svelte-morb7v")},m(c,a){u(c,t,a),d(t,n),d(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);s=!0,o||(i=k(t,"click",e[4]),o=!0)},p(e,n){if(1&n){let r;for(c=e[0],r=0;r<c.length;r+=1){const s=Re(e,c,r);l[r]?(l[r].p(s,n),q(l[r],1)):(l[r]=Pe(s),l[r].c(),q(l[r],1),l[r].m(t,null))}for(P(),r=c.length;r<l.length;r+=1)a(r);H()}},i(e){if(!s){for(let e=0;e<c.length;e+=1)q(l[e]);s=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)W(l[e]);s=!1},d(e){e&&h(t),f(l,e),o=!1,i()}}}function Pe(e){let t,n;return t=new Ke({props:{thread:e[5]}}),{c(){J(t.$$.fragment)},m(e,r){X(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.thread=e[5]),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function He(e){let t,n,r,s,o,i,c,l,a,g=e[0],$=[];for(let t=0;t<g.length;t+=1)$[t]=Fe(Me(e,g,t));const O=e=>W($[e],1,1,()=>{$[e]=null});let x=e[2]&&_e(e);return{c(){t=m("div"),n=m("div"),r=p(e[1]),s=v();for(let e=0;e<$.length;e+=1)$[e].c();o=v(),x&&x.c(),i=b(),T(n,"overflow","hidden"),w(n,"class","svelte-morb7v"),w(t,"class","row-wrapper svelte-morb7v")},m(h,f){u(h,t,f),d(t,n),d(n,r),d(t,s);for(let e=0;e<$.length;e+=1)$[e].m(t,null);u(h,o,f),x&&x.m(h,f),u(h,i,f),c=!0,l||(a=k(t,"click",e[3]),l=!0)},p(e,[n]){if((!c||2&n)&&y(r,e[1]),1&n){let r;for(g=e[0],r=0;r<g.length;r+=1){const s=Me(e,g,r);$[r]?($[r].p(s,n),q($[r],1)):($[r]=Fe(s),$[r].c(),q($[r],1),$[r].m(t,null))}for(P(),r=g.length;r<$.length;r+=1)O(r);H()}e[2]?x?(x.p(e,n),4&n&&q(x,1)):(x=_e(e),x.c(),q(x,1),x.m(i.parentNode,i)):x&&(P(),W(x,1,1,()=>{x=null}),H())},i(e){if(!c){for(let e=0;e<g.length;e+=1)q($[e]);q(x),c=!0}},o(e){$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)W($[e]);W(x),c=!1},d(e){e&&h(t),f($,e),e&&h(o),x&&x.d(e),e&&h(i),l=!1,a()}}}function qe(e,t,n){let{threads:r}=t,{threadName:s}=t,o=!1;return e.$set=e=>{"threads"in e&&n(0,r=e.threads),"threadName"in e&&n(1,s=e.threadName)},[r,s,o,()=>{n(2,o=!o)},()=>{n(2,o=!o)}]}class We extends Q{constructor(e){super(),U(this,e,qe,He,o,{threads:0,threadName:1})}}function Je(e,t,n){const r=e.slice();return r[14]=t[n],r}function Xe(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function Ve(e){let t,n,r=e[17]+"";return{c(){t=m("span"),n=p(r),w(t,"slot","content")},m(e,r){u(e,t,r),d(t,n)},p(e,t){4&t&&r!==(r=e[17]+"")&&y(n,r)},d(e){e&&h(t)}}}function ze(e){let t,n;return t=new be({props:{eventName:"closeTab",identifier:e[17],$$slots:{content:[Ve]},$$scope:{ctx:e}}}),t.$on("closeTab",e[7]),{c(){J(t.$$.fragment)},m(e,r){X(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.identifier=e[17]),1048580&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Ue(e){let t,n;return t=new We({props:{threadName:e[14],threads:e[6](e[14])}}),{c(){J(t.$$.fragment)},m(e,r){X(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.threadName=e[14]),8&n&&(r.threads=e[6](e[14])),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Qe(e){let t,n,r,s,o,i,c,l,a,g,p=e[2],b=[];for(let t=0;t<p.length;t+=1)b[t]=ze(Xe(e,p,t));const $=e=>W(b[e],1,1,()=>{b[e]=null});let y=e[3],O=[];for(let t=0;t<y.length;t+=1)O[t]=Ue(Je(e,y,t));const x=e=>W(O[e],1,1,()=>{O[e]=null});return{c(){t=m("div"),n=m("div"),r=m("div"),s=m("input"),i=v();for(let e=0;e<b.length;e+=1)b[e].c();c=v();for(let e=0;e<O.length;e+=1)O[e].c();s.value=e[0],w(s,"placeholder","Thread Filter"),w(s,"class","svelte-1esappl"),w(r,"style",o=e[2].length>0?"":"display:none;"),w(n,"class","grid svelte-1esappl"),T(n,"grid-template-columns","200px repeat("+e[2].length+", "+e[4]+")"),w(t,"class","main")},m(o,h){u(o,t,h),d(t,n),d(n,r),d(r,s),d(n,i);for(let e=0;e<b.length;e+=1)b[e].m(n,null);d(n,c);for(let e=0;e<O.length;e+=1)O[e].m(n,null);e[8](t),l=!0,a||(g=k(s,"keyup",e[5]),a=!0)},p(e,[t]){if((!l||1&t&&s.value!==e[0])&&(s.value=e[0]),(!l||4&t&&o!==(o=e[2].length>0?"":"display:none;"))&&w(r,"style",o),132&t){let r;for(p=e[2],r=0;r<p.length;r+=1){const s=Xe(e,p,r);b[r]?(b[r].p(s,t),q(b[r],1)):(b[r]=ze(s),b[r].c(),q(b[r],1),b[r].m(n,c))}for(P(),r=p.length;r<b.length;r+=1)$(r);H()}if(72&t){let r;for(y=e[3],r=0;r<y.length;r+=1){const s=Je(e,y,r);O[r]?(O[r].p(s,t),q(O[r],1)):(O[r]=Ue(s),O[r].c(),q(O[r],1),O[r].m(n,null))}for(P(),r=y.length;r<O.length;r+=1)x(r);H()}(!l||20&t)&&T(n,"grid-template-columns","200px repeat("+e[2].length+", "+e[4]+")")},i(e){if(!l){for(let e=0;e<p.length;e+=1)q(b[e]);for(let e=0;e<y.length;e+=1)q(O[e]);l=!0}},o(e){b=b.filter(Boolean);for(let e=0;e<b.length;e+=1)W(b[e]);O=O.filter(Boolean);for(let e=0;e<O.length;e+=1)W(O[e]);l=!1},d(n){n&&h(t),f(b,n),f(O,n),e[8](null),a=!1,g()}}}function Ge(e,t,n){let r;i(e,de,e=>n(10,r=e));let s,o=e=>{let{groups:t}=/(?<name>.*?)(?<num>[\d]*)$/.exec(e);return t},c=(e,t)=>{let n=o(e),r=o(t);if(n.name){let e=n.name.localeCompare(r.name);if(0==e){let e=parseInt(n.num),t=parseInt(r.num);return NaN===e&&NaN===t?0:NaN===e?-1:NaN===t?1:e-t}return e}},l="",a=()=>{n(9,d=s.getBoundingClientRect().width)},d=100;var u;let h,f,m;return u=a,A().$$.on_mount.push(u),function(e){A().$$.after_update.push(e)}(a),window.onresize=a,e.$$.update=()=>{1024&e.$$.dirty&&n(2,h=r?Object.keys(r).sort():[]),1025&e.$$.dirty&&n(3,f=r?Object.keys(Object.entries(r).reduce((e,[t,n])=>Object.assign({},e,n),{})).filter(e=>""===l||e.toLowerCase().indexOf(l.toLowerCase())>=0).sort(c):[]),516&e.$$.dirty&&n(4,m=Math.floor(d/(h.length+1))-1+"px")},[l,s,h,f,m,e=>{n(0,l=e.target.value)},e=>h.map(t=>r[t]&&r[t][e]),({detail:e})=>{console.log("closeTab",e),Z.remove(e),de.remove(e)},function(e){N[e?"unshift":"push"](()=>{s=e,n(1,s)})}]}class Ye extends Q{constructor(e){super(),U(this,e,Ge,Qe,o,{})}}function Ze(e){let t,n,r,s,o,i;return n=new ae({props:{fileStore:e[0]}}),s=new Ye({}),{c(){t=m("main"),J(n.$$.fragment),r=v(),J(s.$$.fragment),w(t,"class",o=a(e[0]&&Object.keys(e[0]).length>0?"loaded":"")+" svelte-1m7kc60")},m(e,o){u(e,t,o),X(n,t,null),d(t,r),X(s,t,null),i=!0},p(e,[r]){const s={};1&r&&(s.fileStore=e[0]),n.$set(s),(!i||1&r&&o!==(o=a(e[0]&&Object.keys(e[0]).length>0?"loaded":"")+" svelte-1m7kc60"))&&w(t,"class",o)},i(e){i||(q(n.$$.fragment,e),q(s.$$.fragment,e),i=!0)},o(e){W(n.$$.fragment,e),W(s.$$.fragment,e),i=!1},d(e){e&&h(t),V(n),V(s)}}}function et(e,t,n){let r;return i(e,Z,e=>n(0,r=e)),[r]}class tt{constructor(e){this.name=e,this.subscribers=[]}process(){try{this.notify(...arguments)}catch(e){throw console.error(e),e}}notify(){this.subscribers.forEach(e=>e.process(...arguments))}subscribe(){this.subscribers=[...this.subscribers,...arguments]}}class nt extends tt{constructor(){super("LineProcessor"),this.textDecoder=new TextDecoder("utf-8"),this.dataArr=[]}process(e,t){this.dataArr=this.dataArr.concat(Array.from(t));let n=this.newLineIndex();for(;-1!=n;){let t=this.dataArr.splice(0,n+1);var r=this.textDecoder.decode(Uint8Array.from(t));this.notify(e,r),n=this.newLineIndex()}}newLineIndex(){return this.dataArr.findIndex(e=>10===e||13===e)}}const rt=["START_DEADLOCK","2LKDEADLOCKTHR","3LKDEADLOCKWTR","4LKDEADLOCKMON","4LKDEADLOCKOBJ","3LKDEADLOCKOWN","1LKDEADLOCK","1LKDEADLOCK"];class st extends tt{constructor(){super("LockBuilder"),this.thread={},this.deadlockStarted=!1}process(e,{type:t,content:n}){"1LKDEADLOCK"===t&&(this.deadlockStarted=!0,console.log(this.name+" - DeadLock Start")),"1LKDEADLOCK"===t&&this.deadlockStarted&&(this.deadlockStarted=!1,console.log(this.name+" - DeadLock End"))}}const ot=/(?<monitor>.*?):.*?owner\s\"(?<owner>.*?)\"/,it=/\"(?<thread>.*?)\"\s\((?<threadId>.*?)\)/,ct=/\"(?<thread>.*?)\"\s\((?<threadId>.*?)\)/,lt=["1LKDEADLOCK","0SECTION"],at={MONOBJECT:"3LKMONOBJECT",WAITNOTIFY:"3LKWAITNOTIFY",WAITER:"3LKWAITER"},dt=[...Object.values(at),"1LKMONPOOLDUMP","1LKREGMONDUMP",...lt];class ut extends tt{constructor(){super("LockMonitorBuilder"),this.lkMonitorsStarted=!1,this.regMonitorsStarted=!1}process(e,{type:t,content:n}){"1LKMONPOOLDUMP"===t&&(this.lkMonitorsStarted=!0,this.regMonitorsStarted=!1,delete this.monObj,console.log(this.name+" - Lock Monitors Start")),"1LKREGMONDUMP"===t&&(this.lkMonitorsStarted=!1,this.regMonitorsStarted=!0,delete this.monObj,console.log(this.name+" - Lock Monitors End"),console.log(this.name+" - Reg Monitors Start")),-1!==lt.indexOf(t)&&this.regMonitorsStarted&&(this.lkMonitorsStarted=!1,this.regMonitorsStarted=!1,delete this.monObj,console.log(this.name+" - Reg Monitors End")),this.lkMonitorsStarted&&this.buildLock(e,t,n)}buildLock(e,t,n){let r=void 0,{owner:s,monitor:o}=this.monObj?this.monObj:{undefined:void 0,undefined:void 0};switch(t){case at.MONOBJECT:if(r=ot.exec(n),r){let{groups:t}=r;if(t&&t.owner){this.monObj=t;let{owner:n,monitor:r}=t;de.updateThread(e,{name:n,monitor:r})}}else delete this.monObj;break;case at.WAITER:if(s&&(r=it.exec(n),r)){let{groups:t}=r;if(t&&t.thread){let{thread:n,threadId:r}=t;de.updateThread(e,{name:s,blocking:[n]}),de.updateThread(e,{name:n,waitingOn:[s],monitor:o})}}break;case at.WAITNOTIFY:if(s&&(r=ct.exec(n),r)){let{groups:t}=r;if(t&&t.thread){let{thread:n,threadId:r}=t;de.updateThread(e,{name:this.monObj.owner,blocking:[n]}),de.updateThread(e,{name:n,blockedBy:[s],monitor:o})}}}}close(){let e=super.close();return console.timeEnd("global"),e}}const ht=/\"(?<name>.*?)\"[\s,]*(?<j9vmthread>.*?),[\s,]*(?<j9thread>.*?),[\s,]*(?<id>.*?),[\s,]*state:(?<state>.*),[\s,]*prio=(?<prio>[\d]*)/,ft=/.*?ID:(?<threadId>.*?),.*?priority:(?<priority>.*?),.*?policy:(?<policy>.*?),.*?vmstate:(?<vmstate>.*?),.*?flags:(?<flags>.*?)\)/,mt=/\(.*getId:(?<getId>.*?),.*?isDaemon:(?<isDaemon>.*?)\)/,gt={THREADINFO:"3XMTHREADINFO",JAVALTHREAD:"3XMJAVALTHREAD",THREADINFO1:"3XMTHREADINFO1",STACKTRACE4:"4XESTACKTRACE",STACKTRACE5:"5XESTACKTRACE",NATIVESTACK:"4XENATIVESTACK",THREADBLOCK:"3XMTHREADBLOCK",START_THREADS:"1XMTHDINFO",END_THREADS:"0SECTION"},pt=Object.values(gt);class vt extends tt{constructor(){super("ThreadBuilder"),this.threadName=void 0,this.started=!1}process(e,{type:t,content:n}){this.started&&this.buildThread(e,t,n),gt.START_THREADS===t&&(this.started=!0,console.log(this.name+" - Build Threads Start")),gt.END_THREADS===t&&this.started&&(this.started=!1,delete this.threadName,this.threadName=void 0,console.log(this.name+" - Build Threads End"))}buildThread(e,t,n){let r=void 0;switch(t){case gt.THREADINFO:if(r=ht.exec(n),r){let{groups:t}=r;t&&t.name&&(this.threadName=t.name,de.updateThread(e,{name:t.name,info:t}))}else de.updateThread(e,{name:n});break;case gt.THREADINFO1:if(r=ft.exec(n),r){let{groups:t}=r;de.updateThread(e,{name:this.threadName,nativeInfo:t})}break;case gt.JAVALTHREAD:if(r=mt.exec(n),r){let{groups:t}=r;de.updateThread(e,{name:this.threadName,javalThreadInfo:t})}break;case gt.STACKTRACE4:case gt.STACKTRACE5:de.updateThread(e,{name:this.threadName,stack:[n]});break;case gt.NATIVESTACK:de.updateThread(e,{name:this.threadName,nativeStack:[n]})}}}const bt=/^(?<type>.*?)\s[\s]*(?<content>.*)/,kt=[...pt,...dt,...rt];class $t extends tt{constructor(){super("LineFilter")}process(e,t){try{let{groups:{type:n,content:r}}=bt.exec(t);-1!==kt.indexOf(n)&&this.notify(e,{type:n,content:r})}catch(e){console.error(e)}}}class wt{list=[];listeners=[];addDeferred(e){this.list.push(e),this.notify()}addListener(e){this.listeners.push(e),this.notify()}notify(){if(this.listeners.length>0&&this.list.length>0){let e=this.list.shift();this.listeners.shift().execute(e),this.notify()}}}class yt{constructor(e){this.file=e,this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Tt{constructor(e){this.queue=e,this.reader=new FileReader}async execute(e){this.reader.onload=t=>{e.resolve(t.target.result),this.queue.addListener(this)},this.reader.readAsArrayBuffer(e.file)}}class Ot{constructor(e){this.fileQueue=new wt;for(let t=0;t<e;t++)this.fileQueue.addListener(new Tt(this.fileQueue))}async read(e){let t=new yt(e);return this.fileQueue.addDeferred(t),t.promise}}Ot.getInstance=()=>(Ot.instance||(Ot.instance=new Ot(6)),Ot.instance);return new class extends Q{constructor(e){super(),U(this,e,et,Ze,o,{})}}({target:document.body,props:{services:{JCoreProcessor:new class{constructor(){Z.subscribe(e=>{this.process(Object.values(e))})}async process(e){if(e&&e.length>0){let t=e.filter(({processed:e})=>!e);if(t.length>0){let e=t.map(async e=>await new Promise((t,n)=>e.file(t,n)));console.log("processing",t),Promise.all(e).then(e=>Promise.all(e.map(e=>this.processFile(e)))).then(()=>console.timeEnd("global")),Z.setProcessed(t)}}}async processFile(e){let t=new nt,n=new $t,r=new vt,s=new st,o=new ut;t.subscribe(n),n.subscribe(r,s,o);let i=e.stream();await i.pipeTo(new WritableStream({write:n=>{try{t.process(e,n)}catch(e){console.error(e)}},close:()=>{console.log("File stream closed")},Abort:()=>{}}))}},FileReadService:Ot.getInstance(6)}}})}();
//# sourceMappingURL=bundle.js.map
