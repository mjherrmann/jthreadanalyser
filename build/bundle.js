var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function l(e,t,n,r,s,o,i){const l=function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(t,r,s,o);if(l){const s=c(t,n,r,i);e.p(s,l)}}function a(e){return null==e?"":e}function d(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function m(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function g(e){return document.createTextNode(e)}function v(){return g(" ")}function $(){return g("")}function b(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function k(e){return function(t){return t.preventDefault(),e.call(this,t)}}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.data!==t&&(e.data=t)}function T(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}let x;function E(e){x=e}function O(){if(!x)throw new Error("Function called outside component initialization");return x}function A(){const e=O();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const s=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);r.slice().forEach(t=>{t.call(e,s)})}}}const S=[],N=[],L=[],D=[],C=Promise.resolve();let K=!1;function R(e){L.push(e)}let I=!1;const M=new Set;function j(){if(!I){I=!0;do{for(let e=0;e<S.length;e+=1){const t=S[e];E(t),B(t.$$)}for(S.length=0;N.length;)N.pop()();for(let e=0;e<L.length;e+=1){const t=L[e];M.has(t)||(M.add(t),t())}L.length=0}while(S.length);for(;D.length;)D.pop()();K=!1,I=!1,M.clear()}}function B(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}const _=new Set;let F;function P(){F={r:0,c:[],p:F}}function H(){F.r||r(F.c),F=F.p}function q(e,t){e&&e.i&&(_.delete(e),e.i(t))}function W(e,t,n,r){if(e&&e.o){if(_.has(e))return;_.add(e),F.c.push(()=>{_.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function X(e){e&&e.c()}function J(e,n,o){const{fragment:i,on_mount:c,on_destroy:l,after_update:a}=e.$$;i&&i.m(n,o),R(()=>{const n=c.map(t).filter(s);l?l.push(...n):r(n),e.$$.on_mount=[]}),a.forEach(R)}function U(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(e,t){-1===e.$$.dirty[0]&&(S.push(e),K||(K=!0,C.then(j)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function V(t,s,o,i,c,l,a=[-1]){const d=x;E(t);const u=s.props||{},h=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:a};let p=!1;if(h.ctx=o?o(t,u,(e,n,...r)=>{const s=r.length?r[0]:n;return h.ctx&&c(h.ctx[e],h.ctx[e]=s)&&(h.bound[e]&&h.bound[e](s),p&&Q(t,e)),n}):[],h.update(),p=!0,r(h.before_update),h.fragment=!!i&&i(h.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);h.fragment&&h.fragment.l(e),e.forEach(f)}else h.fragment&&h.fragment.c();s.intro&&q(t.$$.fragment),J(t,s.target,s.anchor),j()}E(d)}class z{$destroy(){U(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const G=[];function Y(t,n=e){let r;const s=[];function i(e){if(o(t,e)&&(t=e,r)){const e=!G.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),G.push(n,t)}if(e){for(let e=0;e<G.length;e+=2)G[e][0](G[e+1]);G.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,c=e){const l=[o,c];return s.push(l),1===s.length&&(r=n(i)||e),o(t),()=>{const e=s.indexOf(l);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}const Z=new class{constructor(){const{subscribe:e,set:t,update:n}=Y({});this.subscribe=e,this.set=t,this.update=n}setProcessed(e){this.update(t=>{let n=e.reduce((e,n)=>{let r=t[n.name],s=Object.assign(r,{processed:!0});return e[n.name]=s,e},{});return Object.assign({},t,n)})}addFiles(e){this.update(t=>{let n=e.reduce((e,t)=>(e[t.name]||(e[t.name]=t),e),{});return Object.assign({},n,t)})}remove(e){this.update(t=>Object.entries(t).filter(([t,n])=>t!=e).reduce((e,[t,n])=>(e[t]=n,e),{}))}};function ee(t){let n,s,o,i,c;return{c(){n=p("div"),s=p("span"),s.textContent="Drop javacore files",w(s,"class","svelte-1v2e4wg"),w(n,"class",o=(t[0]?"highlight":"")+" dropzone svelte-1v2e4wg")},m(e,r){u(e,n,r),d(n,s),i||(c=[b(n,"dragenter",k(t[2])),b(n,"dragleave",k(t[3])),b(n,"dragover",k(t[1])),b(n,"drop",k(t[4]))],i=!0)},p(e,[t]){1&t&&o!==(o=(e[0]?"highlight":"")+" dropzone svelte-1v2e4wg")&&w(n,"class",o)},i:e,o:e,d(e){e&&f(n),i=!1,r(c)}}}async function te(e){let t=[],n=await async function(e){return new Promise((t,n)=>{e.createReader().readEntries(e=>{t(e)},e=>{n(e)})})}(e);for(let e of n)if(e.isDirectory){let n=await te(e);t=t.concat(n)}else t=t.concat([e]);return t}function ne(e,t,n){let r=!1;return[r,function(e){n(0,r=!0)},function(e){n(0,r=!0)},function(e){n(0,r=!1)},async function(e){n(0,r=!1);let t=[];for(let n of e.dataTransfer.items){let e=n.webkitGetAsEntry();if(e)if(e.isDirectory){let n=await te(e);t=t.concat(n)}else t=t.concat([e]);else console.log("error: not dropped",n,e)}Z.addFiles(t)}]}class re extends z{constructor(e){super(),V(this,e,ne,ee,o,{})}}function se(t){let n,r,s,o,i,c,l,a,h,m,g,$,b;return{c(){n=p("div"),r=p("div"),r.textContent="Running",s=v(),o=p("div"),o.textContent="Waiting",i=v(),c=p("div"),c.textContent="Blocked",l=v(),a=p("div"),a.textContent="Suspended",h=v(),m=p("div"),m.textContent="Parked",g=v(),$=p("div"),$.textContent="Zombie",w(r,"class","R svelte-17qv8gc"),w(o,"class","CW svelte-17qv8gc"),w(c,"class","B svelte-17qv8gc"),w(a,"class","S svelte-17qv8gc"),w(m,"class","P svelte-17qv8gc"),w($,"class","Z svelte-17qv8gc"),w(n,"class",b="state "+(t[0]?"loaded":"")+" svelte-17qv8gc")},m(e,t){u(e,n,t),d(n,r),d(n,s),d(n,o),d(n,i),d(n,c),d(n,l),d(n,a),d(n,h),d(n,m),d(n,g),d(n,$)},p(e,[t]){1&t&&b!==(b="state "+(e[0]?"loaded":"")+" svelte-17qv8gc")&&w(n,"class",b)},i:e,o:e,d(e){e&&f(n)}}}function oe(e,t,n){let{loaded:r=!1}=t;return e.$set=e=>{"loaded"in e&&n(0,r=e.loaded)},[r]}class ie extends z{constructor(e){super(),V(this,e,oe,se,o,{loaded:0})}}function ce(e){let t,n,r,s,o;return n=new ie({props:{loaded:e[0]&&Object.keys(e[0]).length>0}}),s=new re({}),{c(){t=p("div"),X(n.$$.fragment),r=v(),X(s.$$.fragment),w(t,"class","sidebar")},m(e,i){u(e,t,i),J(n,t,null),d(t,r),J(s,t,null),o=!0},p(e,[t]){const r={};1&t&&(r.loaded=e[0]&&Object.keys(e[0]).length>0),n.$set(r)},i(e){o||(q(n.$$.fragment,e),q(s.$$.fragment,e),o=!0)},o(e){W(n.$$.fragment,e),W(s.$$.fragment,e),o=!1},d(e){e&&f(t),U(n),U(s)}}}function le(e,t,n){let{fileStore:r}=t;return e.$set=e=>{"fileStore"in e&&n(0,r=e.fileStore)},[r]}class ae extends z{constructor(e){super(),V(this,e,le,ce,o,{fileStore:0})}}const de=new class{constructor(){const{subscribe:e,set:t,update:n}=Y({});this.subscribe=e,this.set=t,this.update=n}updateThread(e,{name:t,info:n,javalThreadInfo:r,nativeInfo:s,stack:o,nativeStack:i,waitingOn:c,blockedBy:l,blocking:a}){this.update(d=>{let u={...d,[e.name]:{...d[e.name]?d[e.name]:{},[t]:{...d[e.name]&&d[e.name][t]?d[e.name][t]:{},name:t}}},f=u[e.name][t];return n&&(f.info={...f.info,...n}),r&&(f.javalThreadInfo={...f.javalThreadInfo,...r}),s&&(f.nativeInfo={...f.nativeInfo,...s}),o&&(f.stack=[...f.stack?f.stack:[],...o]),i&&(f.nativeStack=[...f.nativeStack?f.nativeStack:[],...i]),c&&(f.waitingOn=[...f.waitingOn?f.waitingOn:[],...c]),l&&(f.blockedBy=[...f.blockedBy?f.blockedBy:[],...l]),a&&(f.blocking=[...f.blocking?f.blocking:[],...a]),u})}mergeThread(){}mergeThreadInfo(){}mergeThreadStack(){}mergeThreadNativeStack(){}mergeThreadBlocking(){}mergeThreadNativeStack(){}remove(e){this.update(t=>Object.entries(t).filter(([t,n])=>t!=e).reduce((e,[t,n])=>(e[t]=n,e),{}))}},ue=e=>({}),fe=e=>({});function he(e){let t,n,r,o,i,a,h,g,$,k;const y=e[4].content,x=function(e,t,n,r){if(e){const s=c(e,t,n,r);return e[0](s)}}(y,e,e[3],fe);return{c(){t=p("div"),n=p("div"),x&&x.c(),r=v(),o=m("svg"),i=m("g"),a=m("circle"),h=m("path"),w(n,"class","contentcontainer svelte-e51wig"),w(a,"stroke-miterlimit","10"),w(a,"stroke-width","8"),w(a,"stroke",me),w(a,"fill","white"),w(a,"r","40"),w(a,"cy","50"),w(a,"cx","50"),w(h,"d","M60.6 29.5L50 40.1 39.4 29.5c-2.7-2.7-7.1-2.7-9.9 0-2.7 2.7-2.7 7.1 0\n        9.9L40.1 50 29.5 60.6c-2.7 2.7-2.7 7.1 0 9.9s7.1 2.7 9.9 0L50 59.9l10.6\n        10.6c2.7 2.7 7.1 2.7 9.9 0 2.7-2.7 2.7-7.1 0-9.9L59.9\n        50l10.6-10.6c2.7-2.7 2.7-7.1 0-9.9s-7.2-2.7-9.9 0z"),T(h,"fill",ge),T(i,"transform-origin","50% 50%"),T(i,"transform","rotate(0deg) scale(0.8, 0.8)"),w(o,"id",""),w(o,"viewBox","0 0 100 100"),w(o,"y","0"),w(o,"x","0"),w(o,"xmlns","http://www.w3.org/2000/svg"),w(o,"xml:space","preserve"),w(o,"version","1.1"),w(o,"width",pe),w(o,"height",pe),T(o,"top","0"),T(o,"right","-"+pe/2+"px"),w(o,"xmlns:xlink","http://www.w3.org/1999/xlink"),w(o,"class","svelte-e51wig"),w(t,"class","closable svelte-e51wig")},m(c,l){u(c,t,l),d(t,n),x&&x.m(n,null),d(t,r),d(t,o),d(o,i),d(i,a),d(i,h),g=!0,$||(k=b(o,"click",(function(){s(e[2](e[1],e[0]))&&e[2](e[1],e[0]).apply(this,arguments)})),$=!0)},p(t,[n]){e=t,x&&x.p&&8&n&&l(x,y,e,e[3],n,ue,fe)},i(e){g||(q(x,e),g=!0)},o(e){W(x,e),g=!1},d(e){e&&f(t),x&&x.d(e),$=!1,k()}}}let pe=20,me="#000000",ge="#FF0000";function ve(e,t,n){const r=A();let{identifier:s}=t,{eventName:o}=t,{$$slots:i={},$$scope:c}=t;return e.$set=e=>{"identifier"in e&&n(0,s=e.identifier),"eventName"in e&&n(1,o=e.eventName),"$$scope"in e&&n(3,c=e.$$scope)},[s,o,r,c,i]}class $e extends z{constructor(e){super(),V(this,e,ve,he,o,{identifier:0,eventName:1})}}function be(t){let n;return{c(){n=p("div"),w(n,"class","flex-child")},m(e,t){u(e,n,t)},p:e,d(e){e&&f(n)}}}function ke(e){let t,n,r,s=(e[0].stack&&e[0].stack[0]||e[0].nativeStack&&e[0].nativeStack[0])+"";return{c(){t=p("div"),n=g(s),w(t,"class",r="flex-child "+(e[0].info&&e[0].info.state)+" file-thread"),T(t,"overflow","hidden")},m(e,r){u(e,t,r),d(t,n)},p(e,o){1&o&&s!==(s=(e[0].stack&&e[0].stack[0]||e[0].nativeStack&&e[0].nativeStack[0])+"")&&y(n,s),1&o&&r!==(r="flex-child "+(e[0].info&&e[0].info.state)+" file-thread")&&w(t,"class",r)},d(e){e&&f(t)}}}function we(t){let n;function r(e,t){return e[0]?ke:be}let s=r(t),o=s(t);return{c(){o.c(),n=$()},m(e,t){o.m(e,t),u(e,n,t)},p(e,[t]){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n.parentNode,n)))},i:e,o:e,d(e){o.d(e),e&&f(n)}}}function ye(e,t,n){let{thread:r}=t;return console.log(r,r.info),e.$set=e=>{"thread"in e&&n(0,r=e.thread)},[r]}class Te extends z{constructor(e){super(),V(this,e,ye,we,o,{thread:0})}}function xe(t){let n;return{c(){n=p("div"),w(n,"class","wrapper")},m(e,t){u(e,n,t)},p:e,d(e){e&&f(n)}}}function Ee(e){let t,n,r,s,o,i=e[0].blocking&&e[0].blocking.length>0&&Oe(e),c=e[0].blockedBy&&e[0].blockedBy.length>0&&Ae(e),l=e[0].waitingOn&&e[0].waitingOn.length>0&&Se(e),a=e[0].stack&&e[0].stack.length>0&&Ne(e),h=e[0].nativeStack&&e[0].nativeStack.length>0&&Le(e);return{c(){t=p("div"),i&&i.c(),n=v(),c&&c.c(),r=v(),l&&l.c(),s=v(),a&&a.c(),o=v(),h&&h.c(),w(t,"class","wrapper")},m(e,f){u(e,t,f),i&&i.m(t,null),d(t,n),c&&c.m(t,null),d(t,r),l&&l.m(t,null),d(t,s),a&&a.m(t,null),d(t,o),h&&h.m(t,null)},p(e,d){e[0].blocking&&e[0].blocking.length>0?i?i.p(e,d):(i=Oe(e),i.c(),i.m(t,n)):i&&(i.d(1),i=null),e[0].blockedBy&&e[0].blockedBy.length>0?c?c.p(e,d):(c=Ae(e),c.c(),c.m(t,r)):c&&(c.d(1),c=null),e[0].waitingOn&&e[0].waitingOn.length>0?l?l.p(e,d):(l=Se(e),l.c(),l.m(t,s)):l&&(l.d(1),l=null),e[0].stack&&e[0].stack.length>0?a?a.p(e,d):(a=Ne(e),a.c(),a.m(t,o)):a&&(a.d(1),a=null),e[0].nativeStack&&e[0].nativeStack.length>0?h?h.p(e,d):(h=Le(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},d(e){e&&f(t),i&&i.d(),c&&c.d(),l&&l.d(),a&&a.d(),h&&h.d()}}}function Oe(e){let t,n,r,s,o=e[0].blocking.join("\n")+"";return{c(){t=p("div"),t.textContent="Blocking",n=v(),r=p("div"),s=g(o),w(t,"class","head svelte-mp5dpr"),w(r,"class","blocking")},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),d(r,s)},p(e,t){1&t&&o!==(o=e[0].blocking.join("\n")+"")&&y(s,o)},d(e){e&&f(t),e&&f(n),e&&f(r)}}}function Ae(e){let t,n,r,s,o=e[0].blockedBy.join("\n")+"";return{c(){t=p("div"),t.textContent="Blocked by",n=v(),r=p("div"),s=g(o),w(t,"class","head svelte-mp5dpr"),w(r,"class","blocked")},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),d(r,s)},p(e,t){1&t&&o!==(o=e[0].blockedBy.join("\n")+"")&&y(s,o)},d(e){e&&f(t),e&&f(n),e&&f(r)}}}function Se(e){let t,n,r,s,o=e[0].waitingOn.join("\n")+"";return{c(){t=p("div"),t.textContent="Blocked",n=v(),r=p("div"),s=g(o),w(t,"class","head svelte-mp5dpr"),w(r,"class","waitingOn")},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),d(r,s)},p(e,t){1&t&&o!==(o=e[0].waitingOn.join("\n")+"")&&y(s,o)},d(e){e&&f(t),e&&f(n),e&&f(r)}}}function Ne(e){let t,n,r,s,o=e[0].stack.join("\n")+"";return{c(){t=p("div"),t.textContent="Java Stack",n=v(),r=p("div"),s=g(o),w(t,"class","head svelte-mp5dpr"),w(r,"class","stack svelte-mp5dpr")},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),d(r,s)},p(e,t){1&t&&o!==(o=e[0].stack.join("\n")+"")&&y(s,o)},d(e){e&&f(t),e&&f(n),e&&f(r)}}}function Le(e){let t,n,r,s,o=e[0].nativeStack.join("\n")+"";return{c(){t=p("div"),t.textContent="Native Stack",n=v(),r=p("div"),s=g(o),w(t,"class","head svelte-mp5dpr"),w(r,"class","stack svelte-mp5dpr")},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),d(r,s)},p(e,t){1&t&&o!==(o=e[0].nativeStack.join("\n")+"")&&y(s,o)},d(e){e&&f(t),e&&f(n),e&&f(r)}}}function De(t){let n;function r(e,t){return e[0]?Ee:xe}let s=r(t),o=s(t);return{c(){o.c(),n=$()},m(e,t){o.m(e,t),u(e,n,t)},p(e,[t]){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n.parentNode,n)))},i:e,o:e,d(e){o.d(e),e&&f(n)}}}function Ce(e,t,n){let{thread:r}=t;return e.$set=e=>{"thread"in e&&n(0,r=e.thread)},[r]}class Ke extends z{constructor(e){super(),V(this,e,Ce,De,o,{thread:0})}}function Re(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Ie(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Me(e){let t,n;return t=new Te({props:{thread:e[5]}}),{c(){X(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.thread=e[5]),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function je(e){let t,n,r,s,o,i,c=e[0],l=[];for(let t=0;t<c.length;t+=1)l[t]=Be(Re(e,c,t));const a=e=>W(l[e],1,1,()=>{l[e]=null});return{c(){t=p("div"),n=p("div"),r=v();for(let e=0;e<l.length;e+=1)l[e].c();T(n,"overflow","hidden"),w(n,"class","svelte-morb7v"),w(t,"class","row-wrapper threadDetails svelte-morb7v")},m(c,a){u(c,t,a),d(t,n),d(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);s=!0,o||(i=b(t,"click",e[4]),o=!0)},p(e,n){if(1&n){let r;for(c=e[0],r=0;r<c.length;r+=1){const s=Re(e,c,r);l[r]?(l[r].p(s,n),q(l[r],1)):(l[r]=Be(s),l[r].c(),q(l[r],1),l[r].m(t,null))}for(P(),r=c.length;r<l.length;r+=1)a(r);H()}},i(e){if(!s){for(let e=0;e<c.length;e+=1)q(l[e]);s=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)W(l[e]);s=!1},d(e){e&&f(t),h(l,e),o=!1,i()}}}function Be(e){let t,n;return t=new Ke({props:{thread:e[5]}}),{c(){X(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.thread=e[5]),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function _e(e){let t,n,r,s,o,i,c,l,a,m=e[0],k=[];for(let t=0;t<m.length;t+=1)k[t]=Me(Ie(e,m,t));const x=e=>W(k[e],1,1,()=>{k[e]=null});let E=e[2]&&je(e);return{c(){t=p("div"),n=p("div"),r=g(e[1]),s=v();for(let e=0;e<k.length;e+=1)k[e].c();o=v(),E&&E.c(),i=$(),T(n,"overflow","hidden"),w(n,"class","svelte-morb7v"),w(t,"class","row-wrapper svelte-morb7v")},m(f,h){u(f,t,h),d(t,n),d(n,r),d(t,s);for(let e=0;e<k.length;e+=1)k[e].m(t,null);u(f,o,h),E&&E.m(f,h),u(f,i,h),c=!0,l||(a=b(t,"click",e[3]),l=!0)},p(e,[n]){if((!c||2&n)&&y(r,e[1]),1&n){let r;for(m=e[0],r=0;r<m.length;r+=1){const s=Ie(e,m,r);k[r]?(k[r].p(s,n),q(k[r],1)):(k[r]=Me(s),k[r].c(),q(k[r],1),k[r].m(t,null))}for(P(),r=m.length;r<k.length;r+=1)x(r);H()}e[2]?E?(E.p(e,n),4&n&&q(E,1)):(E=je(e),E.c(),q(E,1),E.m(i.parentNode,i)):E&&(P(),W(E,1,1,()=>{E=null}),H())},i(e){if(!c){for(let e=0;e<m.length;e+=1)q(k[e]);q(E),c=!0}},o(e){k=k.filter(Boolean);for(let e=0;e<k.length;e+=1)W(k[e]);W(E),c=!1},d(e){e&&f(t),h(k,e),e&&f(o),E&&E.d(e),e&&f(i),l=!1,a()}}}function Fe(e,t,n){let{threads:r}=t,{threadName:s}=t,o=!1;return e.$set=e=>{"threads"in e&&n(0,r=e.threads),"threadName"in e&&n(1,s=e.threadName)},[r,s,o,()=>{n(2,o=!o)},()=>{n(2,o=!o)}]}class Pe extends z{constructor(e){super(),V(this,e,Fe,_e,o,{threads:0,threadName:1})}}function He(e,t,n){const r=e.slice();return r[14]=t[n],r}function qe(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function We(e){let t,n,r=e[17]+"";return{c(){t=p("span"),n=g(r),w(t,"slot","content")},m(e,r){u(e,t,r),d(t,n)},p(e,t){4&t&&r!==(r=e[17]+"")&&y(n,r)},d(e){e&&f(t)}}}function Xe(e){let t,n;return t=new $e({props:{eventName:"closeTab",identifier:e[17],$$slots:{content:[We]},$$scope:{ctx:e}}}),t.$on("closeTab",e[7]),{c(){X(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.identifier=e[17]),1048580&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function Je(e){let t,n;return t=new Pe({props:{threadName:e[14],threads:e[6](e[14])}}),{c(){X(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.threadName=e[14]),8&n&&(r.threads=e[6](e[14])),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function Ue(e){let t,n,r,s,o,i,c,l,a,m,g=e[2],$=[];for(let t=0;t<g.length;t+=1)$[t]=Xe(qe(e,g,t));const k=e=>W($[e],1,1,()=>{$[e]=null});let y=e[3],x=[];for(let t=0;t<y.length;t+=1)x[t]=Je(He(e,y,t));const E=e=>W(x[e],1,1,()=>{x[e]=null});return{c(){t=p("div"),n=p("div"),r=p("div"),s=p("input"),i=v();for(let e=0;e<$.length;e+=1)$[e].c();c=v();for(let e=0;e<x.length;e+=1)x[e].c();s.value=e[0],w(s,"placeholder","Thread Filter"),w(s,"class","svelte-1esappl"),w(r,"style",o=e[2].length>0?"":"display:none;"),w(n,"class","grid svelte-1esappl"),T(n,"grid-template-columns","200px repeat("+e[2].length+", "+e[4]+")"),w(t,"class","main")},m(o,f){u(o,t,f),d(t,n),d(n,r),d(r,s),d(n,i);for(let e=0;e<$.length;e+=1)$[e].m(n,null);d(n,c);for(let e=0;e<x.length;e+=1)x[e].m(n,null);e[8](t),l=!0,a||(m=b(s,"keyup",e[5]),a=!0)},p(e,[t]){if((!l||1&t&&s.value!==e[0])&&(s.value=e[0]),(!l||4&t&&o!==(o=e[2].length>0?"":"display:none;"))&&w(r,"style",o),132&t){let r;for(g=e[2],r=0;r<g.length;r+=1){const s=qe(e,g,r);$[r]?($[r].p(s,t),q($[r],1)):($[r]=Xe(s),$[r].c(),q($[r],1),$[r].m(n,c))}for(P(),r=g.length;r<$.length;r+=1)k(r);H()}if(72&t){let r;for(y=e[3],r=0;r<y.length;r+=1){const s=He(e,y,r);x[r]?(x[r].p(s,t),q(x[r],1)):(x[r]=Je(s),x[r].c(),q(x[r],1),x[r].m(n,null))}for(P(),r=y.length;r<x.length;r+=1)E(r);H()}(!l||20&t)&&T(n,"grid-template-columns","200px repeat("+e[2].length+", "+e[4]+")")},i(e){if(!l){for(let e=0;e<g.length;e+=1)q($[e]);for(let e=0;e<y.length;e+=1)q(x[e]);l=!0}},o(e){$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)W($[e]);x=x.filter(Boolean);for(let e=0;e<x.length;e+=1)W(x[e]);l=!1},d(n){n&&f(t),h($,n),h(x,n),e[8](null),a=!1,m()}}}function Qe(e,t,n){let r;i(e,de,e=>n(10,r=e));let s,o=e=>{let{groups:t}=/(?<name>.*?)(?<num>[\d]*)$/.exec(e);return t},c=(e,t)=>{let n=o(e),r=o(t);if(n.name){let e=n.name.localeCompare(r.name);if(0==e){let e=parseInt(n.num),t=parseInt(r.num);return NaN===e&&NaN===t?0:NaN===e?-1:NaN===t?1:e-t}return e}},l="",a=()=>{n(9,d=s.getBoundingClientRect().width)},d=100;var u;let f,h,p;return u=a,O().$$.on_mount.push(u),function(e){O().$$.after_update.push(e)}(a),window.onresize=a,e.$$.update=()=>{1024&e.$$.dirty&&n(2,f=r?Object.keys(r).sort():[]),1025&e.$$.dirty&&n(3,h=r?Object.keys(Object.entries(r).reduce((e,[t,n])=>Object.assign({},e,n),{})).filter(e=>""===l||e.toLowerCase().indexOf(l.toLowerCase())>=0).sort(c):[]),516&e.$$.dirty&&n(4,p=Math.floor(d/(f.length+1))-1+"px")},[l,s,f,h,p,e=>{n(0,l=e.target.value)},e=>f.map(t=>r[t]&&r[t][e]),({detail:e})=>{console.log("closeTab",e),Z.remove(e),de.remove(e)},function(e){N[e?"unshift":"push"](()=>{s=e,n(1,s)})}]}class Ve extends z{constructor(e){super(),V(this,e,Qe,Ue,o,{})}}function ze(e){let t,n,r,s,o,i;return n=new ae({props:{fileStore:e[0]}}),s=new Ve({}),{c(){t=p("main"),X(n.$$.fragment),r=v(),X(s.$$.fragment),w(t,"class",o=a(e[0]&&Object.keys(e[0]).length>0?"loaded":"")+" svelte-1m7kc60")},m(e,o){u(e,t,o),J(n,t,null),d(t,r),J(s,t,null),i=!0},p(e,[r]){const s={};1&r&&(s.fileStore=e[0]),n.$set(s),(!i||1&r&&o!==(o=a(e[0]&&Object.keys(e[0]).length>0?"loaded":"")+" svelte-1m7kc60"))&&w(t,"class",o)},i(e){i||(q(n.$$.fragment,e),q(s.$$.fragment,e),i=!0)},o(e){W(n.$$.fragment,e),W(s.$$.fragment,e),i=!1},d(e){e&&f(t),U(n),U(s)}}}function Ge(e,t,n){let r;return i(e,Z,e=>n(0,r=e)),[r]}class Ye{constructor(e){this.name=e,this.subscribers=[]}process(){try{this.notify(...arguments)}catch(e){throw console.error(e),e}}notify(){this.subscribers.forEach(e=>e.process(...arguments))}subscribe(){this.subscribers=[...this.subscribers,...arguments]}}class Ze extends Ye{constructor(){super("LineProcessor"),this.textDecoder=new TextDecoder("utf-8"),this.dataArr=[]}process(e,t){this.dataArr=this.dataArr.concat(Array.from(t));let n=this.newLineIndex();for(;-1!=n;){let t=this.dataArr.splice(0,n+1);var r=this.textDecoder.decode(Uint8Array.from(t));this.notify(e,r),n=this.newLineIndex()}}newLineIndex(){return this.dataArr.findIndex(e=>10===e||13===e)}}const et=["START_DEADLOCK","2LKDEADLOCKTHR","3LKDEADLOCKWTR","4LKDEADLOCKMON","4LKDEADLOCKOBJ","3LKDEADLOCKOWN","1LKDEADLOCK","1LKDEADLOCK"];class tt extends Ye{constructor(){super("LockBuilder"),this.thread={},this.deadlockStarted=!1}process(e,{type:t,content:n}){"1LKDEADLOCK"===t&&(this.deadlockStarted=!0,console.log(this.name+" - DeadLock Start")),"1LKDEADLOCK"===t&&this.deadlockStarted&&(this.deadlockStarted=!1,console.log(this.name+" - DeadLock End"))}}const nt=["1LKDEADLOCK","0SECTION"],rt=["2LKMONINUSE","3LKMONOBJECT","3LKNOTIFYQ","3LKWAITNOTIFY","3LKWAITERQ","3LKWAITER","1LKREGMONDUMP","2LKREGMON","1LKMONPOOLDUMP","1LKREGMONDUMP",...nt];class st extends Ye{constructor(){super("LockMonitorBuilder"),this.thread={},this.lkMonitorsStarted=!1,this.regMonitorsStarted=!1}process(e,{type:t,content:n}){try{"1LKMONPOOLDUMP"===t&&(this.lkMonitorsStarted=!0,this.regMonitorsStarted=!1,console.log(this.name+" - Lock Monitors Start")),"1LKREGMONDUMP"===t&&(this.lkMonitorsStarted=!1,this.regMonitorsStarted=!0,console.log(this.name+" - Lock Monitors End"),console.log(this.name+" - Reg Monitors Start")),-1!==nt.indexOf(t)&&this.regMonitorsStarted&&(this.lkMonitorsStarted=!1,this.regMonitorsStarted=!1,console.log(this.name+" - Reg Monitors End"))}catch(e){console.error(e),this.close()}}close(){let e=super.close();return console.timeEnd("global"),e}}const ot=/\"(?<name>.*?)\"[\s,]*(?<j9vmthread>.*?),[\s,]*(?<j9thread>.*?),[\s,]*(?<id>.*?),[\s,]*state:(?<state>.*),[\s,]*prio=(?<prio>[\d]*)/,it=/.*?ID:(?<threadId>.*?),.*?priority:(?<priority>.*?),.*?policy:(?<policy>.*?),.*?vmstate:(?<vmstate>.*?),.*?flags:(?<flags>.*?)\)/,ct=/\(.*getId:(?<getId>.*?),.*?isDaemon:(?<isDaemon>.*?)\)/,lt={THREADINFO:"3XMTHREADINFO",JAVALTHREAD:"3XMJAVALTHREAD",THREADINFO1:"3XMTHREADINFO1",STACKTRACE4:"4XESTACKTRACE",STACKTRACE5:"5XESTACKTRACE",NATIVESTACK:"4XENATIVESTACK",THREADBLOCK:"3XMTHREADBLOCK",START_THREADS:"1XMTHDINFO",END_THREADS:"0SECTION"},at=Object.values(lt);class dt extends Ye{constructor(){super("ThreadBuilder"),this.threadName=void 0,this.started=!1}process(e,{type:t,content:n}){this.started&&this.buildThread(e,t,n),lt.START_THREADS===t&&(this.started=!0,console.log(this.name+" - Build Threads Start")),lt.END_THREADS===t&&this.started&&(this.started=!1,delete this.threadName,this.threadName=void 0,console.log(this.name+" - Build Threads End"))}buildThread(e,t,n){let r=void 0;switch(t){case lt.THREADINFO:if(r=ot.exec(n),r){let{groups:t}=r;t&&t.name&&(this.threadName=t.name,de.updateThread(e,{name:t.name,info:t}))}else de.updateThread(e,{name:n});break;case lt.THREADINFO1:if(r=it.exec(n),r){let{groups:t}=r;de.updateThread(e,{name:this.threadName,nativeInfo:t})}break;case lt.JAVALTHREAD:if(r=ct.exec(n),r){let{groups:t}=r;de.updateThread(e,{name:this.threadName,javalThreadInfo:t})}break;case lt.STACKTRACE4:case lt.STACKTRACE5:de.updateThread(e,{name:this.threadName,stack:[n]});break;case lt.NATIVESTACK:de.updateThread(e,{name:this.threadName,nativeStack:[n]})}}}const ut=/^(?<type>.*?)\s[\s]*(?<content>.*)/,ft=[...at,...rt,...et];class ht extends Ye{constructor(){super("LineFilter")}process(e,t){try{let{groups:{type:n,content:r}}=ut.exec(t);-1!==ft.indexOf(n)&&this.notify(e,{type:n,content:r})}catch(e){console.error(e)}}}class pt{list=[];listeners=[];addDeferred(e){this.list.push(e),this.notify()}addListener(e){this.listeners.push(e),this.notify()}notify(){if(this.listeners.length>0&&this.list.length>0){let e=this.list.shift();this.listeners.shift().execute(e),this.notify()}}}class mt{constructor(e){this.file=e,this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gt{constructor(e){this.queue=e,this.reader=new FileReader}async execute(e){this.reader.onload=t=>{e.resolve(t.target.result),this.queue.addListener(this)},this.reader.readAsArrayBuffer(e.file)}}class vt{constructor(e){this.fileQueue=new pt;for(let t=0;t<e;t++)this.fileQueue.addListener(new gt(this.fileQueue))}async read(e){let t=new mt(e);return this.fileQueue.addDeferred(t),t.promise}}vt.getInstance=()=>(vt.instance||(vt.instance=new vt(6)),vt.instance);return new class extends z{constructor(e){super(),V(this,e,Ge,ze,o,{})}}({target:document.body,props:{services:{JCoreProcessor:new class{constructor(){Z.subscribe(e=>{this.process(Object.values(e))})}async process(e){if(e&&e.length>0){let t=e.filter(({processed:e})=>!e);if(t.length>0){let e=t.map(async e=>await new Promise((t,n)=>e.file(t,n)));console.log("processing",t),Promise.all(e).then(e=>Promise.all(e.map(e=>this.processFile(e)))).then(()=>console.timeEnd("global")),Z.setProcessed(t)}}}async processFile(e){let t=new Ze,n=new ht,r=new dt,s=new tt,o=new st;t.subscribe(n),n.subscribe(r,s,o);let i=e.stream();await i.pipeTo(new WritableStream({write:n=>{try{t.process(e,n)}catch(e){console.error(e)}},close:()=>{console.log("File stream closed")},Abort:()=>{}}))}},FileReadService:vt.getInstance(6)}}})}();
//# sourceMappingURL=bundle.js.map
